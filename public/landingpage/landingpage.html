<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Immacare+</title>

  <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" />
  <link rel="stylesheet" href="/landingpage/landingpage.css" />
  <script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
</head>

<body>
  <header class="header">
    <img src="../assets/images/immaculate.png" alt="Clinic Logo" class="header_logo" />
    <div class="hero-text-container">
      <h1 class="main-title">Your Health and Well-Being is Our Priority</h1>
      <p class="sub-text">
        Comprehensive medical care with specialized doctors under one roof
      </p>
    </div>
    <nav class="navbar">
      <a href="/login" class="nav-link active">Login</a>
    </nav>
  </header>
  <div class="title">WE SERVE IN DIFFERENT AREAS FOR OUR PATIENTS</div>

  <div class="carousel-container">
    <button class="carousel-btn left-btn">❮</button>
    <div class="cards-slider" id="cardSlider">
      <!-- Services will be loaded dynamically from the database -->
      <div class="card-item" id="loadingCard">
        <div class="card">
          <p style="padding: 20px; text-align: center;">Loading services...</p>
        </div>
      </div>
    </div>

    <button class="carousel-btn right-btn">❯</button>
  </div>

  <div class="container_offer">
    <div class="header_offer">
      WE OFFER EXCEPTIONAL CARE WITH THE BEST SERVICES
    </div>
    <div class="offers-section">
      <ul class="offers-list">
        <li>Comprehensive Checkups</li>
        <li>24/7 Emergency Services</li>
        <li>Specialist Consultations</li>
        <li>Advanced Diagnostic Facilities</li>
        <li>Personalized Treatment Plans</li>
        <li>Affordable Healthcare Packages</li>
      </ul>
    </div>
    <div class="button-container">
      <a href="/login" class="cta-button" id="sched-app">SCHEDULE AN APPOINTMENT</a>
    </div>
  </div>

  <footer class="footer">
    <div class="footer-section logo-section">
      <img src="../assets/images/immaculate.png" alt="ImmaCare+ Logo" class="footer_logo" />
      <p class="tagline">Your health and well-being is our priority</p>
    </div>

    <div class="footer_map">
      <h4>Our Location</h4>
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3861.092174217005!2d121.08436557510386!3d14.577364077019763!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3397c9b20d8a4ad7%3A0x93b8c987c3f79f41!2sImmaculate%20Conception%20Lying-In%20Clinic!5e0!3m2!1sen!2sph!4v1700000000000!5m2!1sen!2sph"
        width="300" height="200" style="border: 0" allowfullscreen="" loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>

    <div class="footer-section">
      <h4>Address</h4>
      <p>233 Doctor Pilapil St. Brgy San Miguel, Pasig City</p>
      <h4>Work Hours</h4>
      <p>Monday - Sunday</p>
      <p>24/7</p>
    </div>

    <div class="footer-section">
      <h4>Contact Us</h4>
      <p>+639 12 3456 789 | (02) 1234 5678</p>
      <p>
        <a href="https://www.facebook.com" target="_blank">Immaculate Conception Lying-In & Multispecialty Clinic</a>
      </p>
    </div>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const slider = document.getElementById("cardSlider");
      const leftBtn = document.querySelector(".left-btn");
      const rightBtn = document.querySelector(".right-btn");
      const scrollAmount = 400;

      leftBtn.addEventListener("click", () => {
        slider.scrollBy({ left: -scrollAmount, behavior: "smooth" });
      });
      rightBtn.addEventListener("click", () => {
        slider.scrollBy({ left: scrollAmount, behavior: "smooth" });
      });

      // Load services dynamically from the API
      loadServices();
    });

    function loadServices() {
      fetch('/api/landing-services')
        .then(response => response.json())
        .then(data => {
          if (data.success && data.data && data.data.length > 0) {
            renderServices(data.data);
          } else {
            document.getElementById('cardSlider').innerHTML = `
              <div class="card-item">
                <div class="card">
                  <p style="padding: 20px; text-align: center;">No services available</p>
                </div>
              </div>
            `;
          }
        })
        .catch(error => {
          console.error('Error loading services:', error);
          document.getElementById('cardSlider').innerHTML = `
            <div class="card-item">
              <div class="card">
                <p style="padding: 20px; text-align: center; color: red;">Failed to load services</p>
              </div>
            </div>
          `;
        });
    }

    function renderServices(services) {
      const slider = document.getElementById('cardSlider');
      slider.innerHTML = '';
      
      services.forEach(service => {
        const cardHtml = `
          <div class="card-item">
            <div class="card">
              <img src="${service.cardImage}" alt="${service.title}" onerror="this.src='/assets/images/immaculate.png'" />
              <h3>${service.title}</h3>
              <a href="/landingpage/${service.slug}"><button>Learn More →</button></a>
            </div>
          </div>
        `;
        slider.innerHTML += cardHtml;
      });
    }
  </script>
</body>

</html>
