<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Immacare+</title>
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" />
    <link
      rel="stylesheet"
      href="/bootstrap-icons/font/bootstrap-icons.min.css"
    />

    <script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/jquery/jquery.min.js"></script>
    
    <script src="/js/print-utils.js"></script>
    <script src="dashboard.js"></script>
    <link
      rel="stylesheet"
      href="/datatables.net-dt/css/dataTables.dataTables.css"
    />
    <script src="/datatables.net/js/dataTables.js"></script>
    <script src="/datatables.net/js/dataTables.min.js"></script>
    <link rel="stylesheet" href="dashboard.css" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>

  <body>
    <h2>Dashboard</h2>

    <div class="row g-2">
      <div class="col-md-3">
        <div class="card">
          <div class="card-header card1header">No. of Patients today</div>
          <div
            class="card-body d-flex justify-content-between align-items-center card1body"
          >
            <span id="patientTodayCount">Loading...</span>
            <i class="bi bi-file-earmark-person opacity-50"></i>
          </div>
          <div class="card-footer text-end footer-clickable card1footer" onclick="PatientToday()">
            More Info <i class="bi bi-arrow-right-circle"></i>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card">
          <div class="card-header card2header">No. of Booking</div>
          <div
            class="card-body d-flex justify-content-between align-items-center card2body"
          >
            <span id="appointmentCount">Loading..</span>
            <i class="bi bi-journal-check opacity-50"></i>
          </div>
          
          <div class="card-footer text-end footer-clickable card2footer" onclick="Bookings()">
            More Info <i class="bi bi-arrow-right-circle"></i>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card">
          <div class="card-header card3header">No. of Items in Inventory</div>
          <div
            class="card-body d-flex justify-content-between align-items-center card3body"
          >
            <span id="inventoryCount">0</span>
            <i class="bi bi-box-seam opacity-50"></i>
          </div>
          <div class="card-footer text-end footer-clickable card3footer" onclick="getInventory()">
            More Info <i class="bi bi-arrow-right-circle"></i>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card">
          <div class="card-header card4header">Overall Patients</div>
          <div
            class="card-body d-flex justify-content-between align-items-center card4body"
          >
            <span id="patientCount">Loading...</span>
            <i class="bi bi-people-fill opacity-50"></i>
          </div>
          <div class="card-footer text-end footer-clickable card4footer" onclick="getAllPatients()">
            More Info <i class="bi bi-arrow-right-circle"></i>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Second Row of Dashboard Cards -->
    <div class="row g-2 mt-2">
      <div class="col-md-3">
        <div class="card">
          <div class="card-header" style="background-color: #28a745; color: white;">Completed Today</div>
          <div
            class="card-body d-flex justify-content-between align-items-center"
            style="background-color: #d4edda;"
          >
            <span id="completedTodayCount">0</span>
            <i class="bi bi-check-circle opacity-50"></i>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card">
          <div class="card-header" style="background-color: #ffc107; color: #333;">In Queue</div>
          <div
            class="card-body d-flex justify-content-between align-items-center"
            style="background-color: #fff3cd;"
          >
            <span id="inQueueCount">0</span>
            <i class="bi bi-hourglass-split opacity-50"></i>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card">
          <div class="card-header" style="background-color: #dc3545; color: white;">Cancelled</div>
          <div
            class="card-body d-flex justify-content-between align-items-center"
            style="background-color: #f8d7da;"
          >
            <span id="cancelledCount">0</span>
            <i class="bi bi-x-circle opacity-50"></i>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card">
          <div class="card-header" style="background-color: #6f42c1; color: white;">Total Doctors</div>
          <div
            class="card-body d-flex justify-content-between align-items-center"
            style="background-color: #e2d9f3;"
          >
            <span id="doctorCount">0</span>
            <i class="bi bi-person-badge opacity-50"></i>
          </div>
        </div>
      </div>
    </div>
    <hr />

    <!-- Print Button for Dashboard Table -->
    <div class="d-flex justify-content-end mb-2">
      <button
        type="button"
        class="btn btn-secondary btn-sm"
        onclick="printDashboardTable()"
        title="Print Current View"
      >
        <i class="bi bi-printer"></i> Print
      </button>
    </div>

    <table
      id="dashboardTable"
      class="table table-light table-striped table-bordered table-hover"
    >
      <thead></thead>
      <tbody></tbody>
    </table> 
  </body>
</html>
